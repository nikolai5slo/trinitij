function randomNumber(e,n){return Math.random()*(n-e)+e}window.onload=function(){function e(){var e=new BABYLON.Scene(r);e.enablePhysics(new BABYLON.Vector3(0,0,0),new BABYLON.OimoJSPlugin),e.actionManager=new BABYLON.ActionManager(e);var n=AsteroidNest(4e3,21,e);n.scaling.z*=6;var o=new Player(2.5,e);n.target=o,e.fogMode=BABYLON.Scene.FOGMODE_LINEAR,e.fogDensity=.008,e.fogStart=800,e.fogEnd=1e4,e.fogColor=new BABYLON.Color3(0,0,0);var t=BABYLON.Mesh.CreateBox("skyBox",15e3,e),i=new BABYLON.StandardMaterial("skyBox",e);i.backFaceCulling=!1,i.reflectionTexture=new BABYLON.CubeTexture("textures/sky1/sky1",e),i.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE,i.diffuseColor=new BABYLON.Color3(0,0,0),i.specularColor=new BABYLON.Color3(0,0,0),i.disableLighting=!0,t.infiniteDistance=!0,t.renderingGroupId=0,t.material=i;var a=new Sun(e.activeCamera,e);a.position=new BABYLON.Vector3(-2e3,50,2e3),a.scaling=new BABYLON.Vector3(200,200,200);var s=new Earth(5500,e);return s.position=new BABYLON.Vector3(5e3,-400,6e3),t.parent=o.ship,a.parent=o.ship,e.registerBeforeRender(function(){var e=document.getElementById("overText"),t=document.getElementById("score").innerHTML.split(" "),i=!1;parseInt(t[1])>=1500&&(e.innerHTML="YOU WON<br>NEXT STOP TRINITJ",i=!0),i||n.asteroids.forEach(function(n){o.ship.intersectsMesh(n,!0)&&(e.innerHTML="GAME OVER",i=!0)}),i&&(r.stopRenderLoop(),e.style.display="block")}),e}var n=document.querySelector("#canvas"),r=new BABYLON.Engine(n,!0),o=e();r.runRenderLoop(function(){o.render()}),window.addEventListener("resize",function(){r.resize()})};